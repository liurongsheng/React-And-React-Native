# UmiJS

## ä»‹ç»
umiï¼Œä¸­æ–‡å¯å‘éŸ³ä¸ºä¹Œç±³ï¼Œæ˜¯ä¸€ä¸ªå¯æ’æ‹”çš„ä¼ä¸šçº§ react åº”ç”¨æ¡†æ¶ã€‚
umi ä»¥è·¯ç”±ä¸ºåŸºç¡€çš„ï¼Œæ”¯æŒç±» next.js çš„çº¦å®šå¼è·¯ç”±ï¼Œä»¥åŠå„ç§è¿›é˜¶çš„è·¯ç”±åŠŸèƒ½ï¼Œå¹¶ä»¥æ­¤è¿›è¡ŒåŠŸèƒ½æ‰©å±•ï¼Œæ¯”å¦‚æ”¯æŒè·¯ç”±çº§çš„æŒ‰éœ€åŠ è½½ã€‚
ç„¶åé…ä»¥å®Œå–„çš„æ’ä»¶ä½“ç³»ï¼Œè¦†ç›–ä»æºç åˆ°æ„å»ºäº§ç‰©çš„æ¯ä¸ªç”Ÿå‘½å‘¨æœŸï¼Œæ”¯æŒå„ç§åŠŸèƒ½æ‰©å±•å’Œä¸šåŠ¡éœ€æ±‚ï¼Œç›®å‰å†…å¤–éƒ¨åŠ èµ·æ¥å·²æœ‰ 50+ çš„æ’ä»¶ã€‚

umi æ˜¯èš‚èšé‡‘æœçš„åº•å±‚å‰ç«¯æ¡†æ¶ï¼Œå·²ç›´æ¥æˆ–é—´æ¥åœ°æœåŠ¡äº† 600+ åº”ç”¨ï¼Œ
åŒ…æ‹¬ javaã€nodeã€H5 æ— çº¿ã€ç¦»çº¿ï¼ˆHybridï¼‰åº”ç”¨ã€çº¯å‰ç«¯ assets åº”ç”¨ã€CMS åº”ç”¨ç­‰ã€‚
ä»–å·²ç»å¾ˆå¥½åœ°æœåŠ¡äº†æˆ‘ä»¬çš„å†…éƒ¨ç”¨æˆ·ï¼ŒåŒæ—¶å¸Œæœ›ä»–ä¹Ÿèƒ½æœåŠ¡å¥½å¤–éƒ¨ç”¨æˆ·ã€‚

## ç‰¹æ€§
1. ğŸ“¦ å¼€ç®±å³ç”¨ï¼Œå†…ç½® reactã€react-router ç­‰
1. ğŸˆ ç±» next.js ä¸”åŠŸèƒ½å®Œå¤‡çš„è·¯ç”±çº¦å®šï¼ŒåŒæ—¶æ”¯æŒé…ç½®çš„è·¯ç”±æ–¹å¼
1. ğŸ‰ å®Œå–„çš„æ’ä»¶ä½“ç³»ï¼Œè¦†ç›–ä»æºç åˆ°æ„å»ºäº§ç‰©çš„æ¯ä¸ªç”Ÿå‘½å‘¨æœŸ
1. ğŸš€ é«˜æ€§èƒ½ï¼Œé€šè¿‡æ’ä»¶æ”¯æŒ PWAã€ä»¥è·¯ç”±ä¸ºå•å…ƒçš„ code splitting ç­‰
1. ğŸ’ˆ  æ”¯æŒé™æ€é¡µé¢å¯¼å‡ºï¼Œé€‚é…å„ç§ç¯å¢ƒï¼Œæ¯”å¦‚ä¸­å°ä¸šåŠ¡ã€æ— çº¿ä¸šåŠ¡ã€eggã€æ”¯ä»˜å®é’±åŒ…ã€äº‘å‡¤è¶ç­‰
1. ğŸš„ å¼€å‘å¯åŠ¨å¿«ï¼Œæ”¯æŒä¸€é”®å¼€å¯ dll å’Œ hard-source-webpack-plugin ç­‰
1. ğŸ  ä¸€é”®å…¼å®¹åˆ° IE9ï¼ŒåŸºäº umi-plugin-polyfills
1. ğŸ å®Œå–„çš„ TypeScript æ”¯æŒï¼ŒåŒ…æ‹¬ d.ts å®šä¹‰å’Œ umi test
1. ğŸŒ´ ä¸ dva æ•°æ®æµçš„æ·±å…¥èåˆï¼Œæ”¯æŒ duck directoryã€model çš„è‡ªåŠ¨åŠ è½½ã€code splitting ç­‰ç­‰

## ç¯å¢ƒå‡†å¤‡
node ç‰ˆæœ¬æ˜¯ 8.10 æˆ–ä»¥ä¸Š
umi  ç‰ˆæœ¬åœ¨ 2.0.0 æˆ–ä»¥ä¸Š
```
node -v
v10.15.0

npm install -g umi
umi -v
2.4.4
```

## è„šæ‰‹æ¶
æ–°å»ºæ–‡ä»¶å¤¹
```
umi g page index
umi g page users
```
umi g æ˜¯ umi generate çš„åˆ«åï¼Œå¯ç”¨äºå¿«é€Ÿç”Ÿæˆ componentã€pageã€layout ç­‰ï¼Œå¹¶ä¸”å¯åœ¨æ’ä»¶é‡Œè¢«æ‰©å±•ã€‚

```
$ tree
.
â””â”€â”€ pages
    â”œâ”€â”€ index.css
    â”œâ”€â”€ index.js
    â”œâ”€â”€ users.css
    â””â”€â”€ users.js
```
pages ç›®å½•æ˜¯é¡µé¢æ‰€åœ¨çš„ç›®å½•ï¼Œumi é‡Œçº¦å®šé»˜è®¤æƒ…å†µä¸‹ pages ä¸‹æ‰€æœ‰çš„ js æ–‡ä»¶å³è·¯ç”±ï¼Œ
å¦‚æœæœ‰ next.js æˆ– nuxt.js çš„ä½¿ç”¨ç»éªŒï¼Œåº”è¯¥ä¼šæœ‰ç‚¹çœ¼ç†Ÿ

`umi dev` å¯åŠ¨æœ¬åœ°æœåŠ¡å™¨

## çº¦å®šå¼è·¯ç”±
å¯åŠ¨ umi dev åï¼Œå¤§å®¶ä¼šå‘ç° pages ä¸‹å¤šäº†ä¸ª .umi çš„ç›®å½•ã€‚è¿™æ˜¯ umi çš„ä¸´æ—¶ç›®å½•ï¼Œ
umi é‡å¯æˆ–è€… pages ä¸‹çš„æ–‡ä»¶ä¿®æ”¹éƒ½ä¼šé‡æ–°ç”Ÿæˆè¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶ã€‚

pages/index.js
```
import Link from 'umi/link';
import styles from './index.css';

export default function() {
  return (
    <div className={styles.normal}>
      <h1>Page index</h1>
      <Link to="/users">go to /users</Link>
    </div>
  );
}
```
pages/users.js
```
import router from 'umi/router';
import styles from './users.css';

export default function() {
  return (
    <div className={styles.normal}>
      <h1>Page users</h1>
      <button onClick={() => { router.goBack(); }}>go back</button>
    </div>
  );
}
```

## éƒ¨ç½²å‘å¸ƒ
æ„å»º `umi build` ï¼Œæ„å»ºäº§ç‰©é»˜è®¤ç”Ÿæˆåˆ° ./dist

ä½¿ç”¨ now æ¥åšæ¼”ç¤º
```
yarn global add now
now ./dist
```

# é€šè¿‡è„šæ‰‹æ¶åˆ›å»ºé¡¹ç›®

umi é€šè¿‡ create-umi æä¾›è„šæ‰‹æ¶èƒ½åŠ›ï¼ŒåŒ…å«ï¼š

- projectï¼Œé€šç”¨é¡¹ç›®è„šæ‰‹æ¶ï¼Œæ”¯æŒé€‰æ‹©æ˜¯å¦å¯ç”¨ TypeScriptï¼Œä»¥åŠ umi-plugin-react åŒ…å«çš„åŠŸèƒ½
- ant-design-proï¼Œä»…åŒ…å« ant-design-pro å¸ƒå±€çš„è„šæ‰‹æ¶ï¼Œå…·ä½“é¡µé¢å¯é€šè¿‡ umi block æ·»åŠ 
- blockï¼ŒåŒºå—è„šæ‰‹æ¶
- pluginï¼Œæ’ä»¶è„šæ‰‹æ¶
- libraryï¼Œä¾èµ–ï¼ˆç»„ä»¶ï¼‰åº“è„šæ‰‹æ¶ï¼ŒåŸºäº umi-plugin-library

`yarn create umi`
```
? Select the boilerplate type app
? Do you want to use typescript? Yes
```
// é€‰æ‹©ç›¸åº”æ¨¡æ¿

`yarn` 
// å®‰è£…ä¾èµ–

`yarn start`
// å¯åŠ¨ æœ¬åœ°å¼€å‘ 







































